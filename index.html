<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="js/swiper/css/swiper.min.css">
    <script src="base/data.js"></script>
    <title>Document</title>
</head>

<body>
    <div class="container">
        <div class="controller">
            <div class="audio">
                <audio id="audioplay" width="100%" controls>
                    您的浏览器不支持 audio 标签。
                </audio>
            </div>
            <div class="df">
                <div class="type">
                    <label for="typeBlock">
                        <input type="radio" name="source" id="sourceBlock" class="toggleSource" value="1" checked>mp3
                    </label>
                    <label for="sourceNote">
                        <input type="radio" name="source" id="sourceNote" class="toggleSource" value="0">mp34
                    </label>
                </div>
                <div class="type">
                    <label for="typeBlock">
                        <input type="radio" name="type" id="typeBlock" class="toggleType" value="1" checked> 按小节走谱
                    </label>
                    <label for="typeNote">
                        <input type="radio" name="type" id="typeNote" class="toggleType" value="0"> 按音符走谱
                    </label>
                </div>
            </div>
            <div class="speed">
                <select name="" id="swicthSpeed">
                    <option value="1">原速播放</option>
                    <option value="0.5">0.5速度播放</option>
                    <option value="0.8">0.8速度播放</option>
                </select>
            </div>
        </div>
        <div class="musicShowModal">
            <div class="showmusic" id="muscic-pdf">
                <div class="showblock"></div>
                <div class="showline hide"></div>
            </div>
            <div class="swiper-container">
                <div class="swiper-pagination"></div>
                <div class="swiper-wrapper"></div>
            </div>
            <!-- <div class="showpage">
                Page
                <span class="btn ico-pre"></span>
                <span class="pagation"><span id="currentPage">1</span> / <span id="pageLength"></span></span>
                <span class="btn ico-next"></span>
            </div> -->
        </div>
    </div>
    <!-- <input type="hidden" value="1" id="Speed" />
    <input type="hidden" value="1" id="pageNub" />
    <input type="hidden" value=1 id="playType" />
    <input type="hidden" value="00:00" id="preTime">
    
    <input type="hidden" value="" id="globalScale"> -->
    <input type="hidden" value="0" id="cureentNote">



    <script>
        var _globalScaleW, _globalScaleH;
        var dataSrc = 'base/'
        var mp3Src = 'Tchaikovsky_Violin_Concerto_Op_35_Oistrakh_1968_mov3.mp3'
        var mp4Src = 'tureck.mp4'
        var imgCount = 37
        var globalPageNub = 1;
        var mySwiper = null
        var currentPage = 0
        var showblockEle = document.querySelector(".showblock");
        var showlineEle = document.querySelector(".showline");
        var pagePattern = 'v' //v竖 h横
        var cureentNoteEle = document.getElementById("cureentNote");
        // var mp3Src = 'Tchaikovsky_Piano_Concerto_1_Op_23_mov2_Martha_Argerich.mp3'
        // var mp4Src = 'Tchaikovsky_Piano_Concerto_1_Op_23_mov2_Martha_Argerich.mp4'

        //  // PAGE CHANGE
        function changePageNub(num) {
            if (currentPage !== num) {
                currentPage = num
                if (--num !== mySwiper.activeIndex) {
                    mySwiper.slideTo(num, 100, false)
                    cureentNoteEle.value = 1;
                    triggerChange(cureentNoteEle);
                }
            }

            //页面切换事件后期采用swiper
            // globalPageNub = num;
            // let _pageHeight = document.querySelector(".showmusic .canvas").offsetHeight;
            // document.getElementById("muscic-pdf").style.top = -_pageHeight * globalPageNub + "px";
        }

        function triggerChange(ele) {
            var ev = new Event('change', {
                bubbles: true
            });
            ev.simulated = true;
            ele.dispatchEvent(ev)
        }
    </script>
    </script>
    <script src="js/fastclick.js"></script>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/swiper/js/swiper.min.js"></script>
    <script src="js/function.js"></script>
    <!-- <script src="js/pdfload.js"></script> -->
    <script src="js/index.js"></script>
</body>

</html>